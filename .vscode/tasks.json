{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "build (cl x64 via vswhere)",
			"type": "process",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-Command",
				"$pf86 = [Environment]::GetFolderPath('ProgramFilesX86'); $vswhere = Join-Path $pf86 'Microsoft Visual Studio\\Installer\\vswhere.exe'; $vs = & $vswhere -latest -products * -requires Microsoft.VisualStudio.Component.VC.Tools.x86.x64 -property installationPath; if (-not $vs) { throw 'VS C++ tools not found'; } $instance = & $vswhere -latest -products * -requires Microsoft.VisualStudio.Component.VC.Tools.x86.x64 -property instanceId; Import-Module (Join-Path $vs 'Common7\\Tools\\Microsoft.VisualStudio.DevShell.dll'); Enter-VsDevShell $instance -Arch amd64 -HostArch amd64 -SkipAutomaticLocation | Out-Null; if (-not (Test-Path 'bin')) { New-Item -ItemType Directory -Path 'bin' | Out-Null }; cl /nologo /std:c++20 /openmp /EHsc /Zi /Od /Fe:bin\\league_mc.exe main.cpp"
			],
			"problemMatcher": "$msCompile",
			"group": {
				"kind": "build",
				"isDefault": true
			}
		},
		{
			"label": "build (cl x64 release via vswhere)",
			"type": "process",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-Command",
				"$pf86 = [Environment]::GetFolderPath('ProgramFilesX86'); $vswhere = Join-Path $pf86 'Microsoft Visual Studio\\Installer\\vswhere.exe'; $vs = & $vswhere -latest -products * -requires Microsoft.VisualStudio.Component.VC.Tools.x86.x64 -property installationPath; if (-not $vs) { throw 'VS C++ tools not found'; } $instance = & $vswhere -latest -products * -requires Microsoft.VisualStudio.Component.VC.Tools.x86.x64 -property instanceId; Import-Module (Join-Path $vs 'Common7\\Tools\\Microsoft.VisualStudio.DevShell.dll'); Enter-VsDevShell $instance -Arch amd64 -HostArch amd64 -SkipAutomaticLocation | Out-Null; if (-not (Test-Path 'bin\\release')) { New-Item -ItemType Directory -Path 'bin\\release' | Out-Null }; cl /nologo /std:c++20 /openmp /EHsc /O2 /DNDEBUG /GL /Gy /Fe:bin\\release\\league_mc.exe main.cpp /link /LTCG"
			],
			"problemMatcher": "$msCompile"
		}
	]
}
